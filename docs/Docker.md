# LiftLog Backup CLI Docker Guide
[This Dockerfile](../Dockerfile) builds the LiftLog Backup CLI into a container. It includes the necessary template files and allows you to mount your source file directory as a volume.

## Why Use Docker?

* It encapsulates the LiftLog Backup CLI and its dependencies in a container, ensuring a consistent environment for report generation.
* That container can then be ran on any system with Docker installed, regardless of the host OS, or if they even have all the tooling installed.
* It opens up opportunities to automate the report generation process after backup export.

## Features
- The templates required for report generation are included inside the container at `/Templates`.
- You can mount a local directory containing your source files into the container's `/shellpwd` path.
- The LiftLog Backup CLI will run inside the container and use the mounted source files to generate reports based on the provided templates.

## Build the Container

You must at least have the [Docker Engine](https://docs.docker.com/engine/install/) installed on your system to build and run the container. If you don't have Docker installed, you can download it from the [official Docker website](https://docs.docker.com/get-docker/).

To build the Docker image for the LiftLog Backup CLI, use the following command:

```bash
docker build . -t liftlog-cli
```

This command will:
- Build the Docker image using the Dockerfile in the current directory.
- Tag the image as `liftlog-cli` for easy reference when running it.

## Run the Container

To run the container and generate a report using a source file and template, you need to mount your current directory into the container and pass the appropriate arguments. Hereâ€™s an example command:

```bash
docker run -v "$(pwd):/shellpwd" liftlog-cli -f ./2024-10-22-06-59-liftlogbackup.gz -t /Templates/OrgMod
```

### Explanation:
- `-v "$(pwd):/shellpwd"`: Mounts your current host directory to the `/shellpwd` folder in the container. This allows the CLI to access files in your current directory.
- `liftlog-cli`: The Docker image name built earlier.
- `-f ./2024-10-22-06-59-liftlogbackup.gz`: The `-f` flag specifies the path to your source file inside `/shellpwd`, which in this case is `./2024-10-22-06-59-liftlogbackup.gz`.
- `-t /Templates/OrgMod`: The `-t` flag specifies the template to use for generating the report. In this example, the `OrgMod` template is located in `/Templates`.

### Expected Output:
This command will run the LiftLog CLI inside the container, using the source file you specified and the chosen template to generate a report.

### Explanation:
- `-o output.txt`: The `-o` flag specifies the name of the output file. In this example, `output.txt` will be created in your current directory (which is mounted as `/shellpwd` in the container).

This way, the report generated by the LiftLog CLI will be saved in your local folder, allowing you to easily access the output outside of the container.

## Additional Notes
- Make sure to replace `./2024-10-22-06-59-liftlogbackup.gz` with the actual path to your source file.
- The `/Templates` directory inside the container is where all template files are stored. You can modify the path to use any other template available within that directory.